ìŠ¤í”„ë§ ë¹ˆ ìƒëª…ì£¼ê¸° ì½œë°±ì— ëŒ€í•´ ì•Œì•„ë³´ì.

```java
package com.crane.firstApp.lifecycle;

import java.sql.SQLOutput;

public class NetworkClient {

    private String url;

    public NetworkClient(){
        System.out.println("ìƒì„±ì í˜¸ì¶œ, url= "+ url);
        connect();
        call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
    }

    public void setUrl(String url){
        this.url=url;
    }

    //ì„œë¹„ìŠ¤ ì‹œì‘ì‹œ í˜¸ì¶œ
    public void connect(){
        System.out.println("url = " + url);
    }

    public void call(String message){
        System.out.println("call: "+url+ "message = "+message);
    }

    //ì„œë¹„ìŠ¤ ì¢…ë£Œì‹œ í˜¸ì¶œ
    public void disconnect(){
        System.out.println("close: " + url);
    }
}

```

ìœ„ì™€ ê°™ì€ ê°„ë‹¨í•˜ê²Œ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ì— ë¯¸ë¦¬ ì—°ê²°ì„ í•˜ëŠ” í´ë˜ìŠ¤ê°€ ìˆë‹¤.

ì´ NetworkClientëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œì ì— connect()ë¥¼ í˜¸ì¶œí•´ì„œ ì—°ê²°ì„ ë§ºì–´ë‘ì–´ì•¼ í•˜ê³ , ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¢…ë£Œë˜ë©´ disConnect()ë¥¼ í˜¸ì¶œí•´ì„œ ì—°ê²°ì„ ëŠì–´ì•¼ í•œë‹¤.

ìœ„ ê°ì²´ë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ê³  í˜¸ì¶œí•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ ë³´ì.

```java
package com.crane.firstApp.lifecycle;

import org.junit.jupiter.api.Test;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

public class BeanLifeCycleTest {

    @Test
    public void lifeCycleTest(){
        AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(LifeCycleConfig.class);
        NetworkClient client = ac.getBean(NetworkClient.class);
        ac.close();
    }

    @Configuration
    static class LifeCycleConfig{

        @Bean
        public NetworkClient networkClient(){
            NetworkClient networkClient = new NetworkClient();
            networkClient.setUrl("http://hello-spring.dev");
            return networkClient;
        }
    }
}

```

ì–´ë–¤ ê²°ê³¼ê°€ ë‚˜ì˜¬ê¹Œ?

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/b862ba7a-6e6f-4c06-b612-087536bb9f65/12b1aeea-9519-403d-929f-d1419b338fbe/image.png)

ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ì•˜ë‹¤.

ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ë¹ˆì´ ë“±ë¡ë˜ëŠ” ê³¼ì •ì—ì„œ NetworkClentì˜ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ê³ , ìƒì„±ìì—ì„œëŠ” ì•„ì§ urlì˜ ê°’ì´ ì •í•´ì§€ì§€ ì•Šì•˜ìŒìœ¼ë¡œ ë‹¹ì—°íˆ Null ì´ ë“¤ì–´ê°„ë‹¤.

ìƒì„±ì í˜¸ì¶œì„ ë§ˆì¹œ í›„ setUrl ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë¯€ë¡œ ì´ë•Œ urlì— ê°’ì´ ë“¤ì–´ê°„ë‹¤.

ì‹±ê¸€í†¤ ê¸°ì¤€ ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë²¤íŠ¸ ë¼ì´í”„ ì‚¬ì´í´ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

<aside>
ğŸ’¡

ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ìƒì„± â†’ ìŠ¤í”„ë§ ë¹ˆ ìƒì„±â†’ ì˜ì¡´ê´€ê³„ ì£¼ì…â†’ì´ˆê¸°í™” ì½œë°±â†’ ì‚¬ìš©â†’ì†Œë©¸ì „ ì½œë°±â†’ ìŠ¤í”„ë§ ì¢…ë£Œ

</aside>

- ì´ˆê¸°í™” ì½œë°± : ë¹ˆì´ ìƒì„±ë˜ê³ , ë¹ˆì˜ ì˜ì¡´ê´€ê³„ ì£¼ì…ì´ ì™„ë£Œëœ í›„ í˜¸ì¶œ
- ì†Œë©¸ì „ ì½œë°±: ë¹ˆì´ ì†Œë©¸ë˜ê¸° ì§ì „ì— í˜¸ì¶œ

<aside>
ğŸ’¡

ê°ì²´ì˜ ìƒì„±ê³¼ ì´ˆê¸°í™”ë¥¼ ë¶„ë¦¬í•˜ì!

</aside>

ìƒì„±ìëŠ” í•„ìˆ˜ ì •ë³´(íŒŒë¼ë¯¸í„°)ë¥¼ ë°›ê³ , ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•´ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì±…ì„ì„ ê°€ì§„ë‹¤. ë°˜ë©´ì— ì´ˆê¸°í™”ëŠ” ì´ë ‡ê²Œ ìƒì„±ëœ ê°’ë“¤ì„ í™œìš©í•´ì„œ ì™¸ë¶€ ì»¤ë„¥ì…˜ì„ ì—°ê²°í•˜ëŠ” ë“± ë¬´ê±°ìš´ ë™ì‘ì„ ìˆ˜í–‰í•œë‹¤.

ë”°ë¼ì„œ ìƒì„±ì ì•ˆì—ì„œ ë¬´ê±°ìš´ ì´ˆê¸°í™” ì‘ì—…ì„ í•¨ê»˜ í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„ê³¼ ì´ˆê¸°í™” í•˜ëŠ” ë¶€ë¶„ì„ ëª…í™•í•˜ê²Œ ë‚˜ëˆ„ëŠ” ê²ƒì´ ìœ ì§€ë³´ìˆ˜ ê´€ì ì—ì„œ ì¢‹ë‹¤.

### ìŠ¤í”„ë§ì€ í¬ê²Œ 3ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ë¹ˆ ìƒëª…ì£¼ê¸° ì½œë°±ì„ ì§€ì›í•œë‹¤.

- ì¸í„°í˜ì´ìŠ¤(initalizingBean,DisposableBean)
- ì„¤ì • ì •ë³´ì— ì´ˆê¸°í™” ë©”ì„œë“œ, ì¢…ë£Œ ë©”ì„œë“œ ì§€ì •
- @PostConstruct, @PreDestory ì• ë…¸í…Œì´ì…˜ ì§€ì›

<aside>
ğŸ’¡

ê²°ë¡ ì ìœ¼ë¡œ javaxì˜  @PostConstruct, @PreDestory ì• ë…¸í…Œì´ì…˜  ì‚¬ìš©í•˜ë©´ ëœë‹¤.

</aside>

ì´ìœ ëŠ”  ìµœì‹  ìŠ¤í”„ë§ì—ì„œ ê°€ì¥ ê¶Œì¥í•˜ëŠ” ë°©ë²•ì´ê³ , ì• ë…¸í…Œì´ì…˜ í•˜ë‚˜ë§Œ ë¶™ì´ë©´ ë˜ë¯€ë¡œ ë§¤ìš° í¸ë¦¬í•˜ë‹¤.

ìœ ì¼í•œ ë‹¨ì ì€ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ëŠ” ì ìš©í•˜ì§€ ëª»í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ˆê¸°í™”, ì¢…ë£Œ í•´ì•¼ í•˜ë©´ @Beanì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì.

ì½”ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í–ˆë‹¤.

```java
package com.crane.firstApp.lifecycle;

import jakarta.annotation.PostConstruct;
import jakarta.annotation.PreDestroy;

import java.sql.SQLOutput;

public class NetworkClient {

    private String url;

    public NetworkClient(){
        System.out.println("ìƒì„±ì í˜¸ì¶œ, url= "+ url);
    }

    public void setUrl(String url){
        this.url=url;
    }

    //ì„œë¹„ìŠ¤ ì‹œì‘ì‹œ í˜¸ì¶œ
    public void connect(){
        System.out.println("url = " + url);
    }

    public void call(String message){
        System.out.println("call: "+url+ "message = "+message);
    }

    //ì„œë¹„ìŠ¤ ì¢…ë£Œì‹œ í˜¸ì¶œ
    public void disconnect(){
        System.out.println("close: " + url);
    }

    @PostConstruct
    public void init(){
        System.out.println("NetworkClient.init");
        connect();
        call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
    }
    @PreDestroy
    public void close(){
        System.out.println("NetworkClient.close");
        disconnect();
    }
}

```

@PostConstruct ì• ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë©”ì†Œë“œëŠ” ë¹ˆì´ ì£¼ì… ì™„ë£Œ ëœ í›„ ìë™ìœ¼ë¡œ í˜¸ì¶œë˜ê³ ,

@PreDestroy ì• ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë©”ì†Œë“œëŠ” ë¹ˆì´ ì†Œë©¸ë˜ê¸° ì§ì „ì— ìë™ìœ¼ë¡œ í˜¸ì¶œëœë‹¤.